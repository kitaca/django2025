<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    <title>제품 페이지</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico"/>
    <!-- Core theme CSS (includes Bootstrap)-->
    <link rel="stylesheet" type="text/css" href="{% static 'styles.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'bootstrap.min.css' %}">
</head>
<body>
<div id="wrapper">
    <!-- Top Navigation (로그인, 회원가입, 언어 선택) -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark navbar-first">
        <div class="container-fluid">
            <a class="navbar-brand mx-auto" href="/">ChocoTech</a>

            <!-- 토글 버튼: 모바일에서만 second navigation 포함 -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarContent" aria-controls="navbarContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- 통합된 네비게이션 바 (모바일에서만 second navigation 포함) -->
            <div class="collapse navbar-collapse" id="navbarContent">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="/login/">로그인</a></li>
                    <li class="nav-item"><a class="nav-link" href="/signup/">회원가입</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button"
                           data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">LAN</a>
                        <div class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="#!">한국어</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#!">English</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#!">日本語</a>
                        </div>
                    </li>
                </ul>

                <!-- 모바일에서만 second navigation 포함 -->
                <ul class="navbar-nav justify-content-evenly w-100 mt-3 mt-lg-0 d-lg-none">
                    <li class="nav-item"><a class="nav-link" href="/company/">소개</a></li>
                    <li class="nav-item"><a class="nav-link" href="/product/">제품</a></li>
                    <li class="nav-item"><a class="nav-link" href="/service/">고객지원</a></li>
                    <li class="nav-item"><a class="nav-link" href="/community/">커뮤니티</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Second Navigation (데스크톱 전용) -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark border-bottom navbar-second d-none d-lg-flex">
        <div class="container-fluid">
            <ul class="navbar-nav justify-content-evenly w-100">
                <li class="nav-item"><a class="nav-link" href="/company/">소개</a></li>
                <li class="nav-item"><a class="nav-link" href="/product/">제품</a></li>
                <li class="nav-item"><a class="nav-link" href="/service/">고객지원</a></li>
                <li class="nav-item"><a class="nav-link" href="/community/">커뮤니티</a></li>
            </ul>
        </div>
    </nav>
    <!-- Page content-->
    {% if content_list %}
    <div class="container px-4 px-lg-5">

        <!-- Heading Row-->
        {% for content in content_list %}
        <div class="row gx-4 gx-lg-5 align-items-center my-3">
            <hr/>
            <div class="col-lg-5 text-center">
                <img class="img-thumbnail rounded mb-4 mb-lg-0"
                     src="{{ content.image_url|default:'https://dummyimage.com/300x300/dee2e6/6c757d.jpg' }}"
                     alt="{{ content.title }}"/>
            </div>
            <div class="col-lg-7">
                <h1 class="font-weight-light">{{content.title}}</h1>
                <p>{{content.content}}</p>
                <a class="btn btn-primary" href="/product/{{content.id}}/">구매하기</a>
            </div>
        </div>
        {% endfor %}

        <!-- TOP 버튼 (맨 아래에 추가) -->
        <button id="topButton" aria-label="Scroll to Top">▲</button>

        <!-- Call to Action-->
        <!-- Content Row-->
    </div>
    {% else %}
    <p>content가 없습니다.</p>
    {% endif %}

    <!-- Footer-->
    <footer class="bg-light py-4 border-top">
        <div class="container text-center">
            <!-- 회사 정보 -->
            <div class="mb-3">
                <h5>ChocoTech</h5>
                <p>&copy; 2025 ChocoTech. All Rights Reserved.</p>
            </div>
            <!-- 소셜 미디어 링크 -->
            <div>
                <h5>Follow Us</h5>
                <a href="#" class="text-decoration-none me-2">Facebook</a>
                <a href="#" class="text-decoration-none me-2">Twitter</a>
                <a href="#" class="text-decoration-none">Instagram</a>
            </div>
        </div>
    </footer>

    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>
    <script>
        window.addEventListener('DOMContentLoaded', () => {
        const secondNavbar = document.querySelector('.navbar-second');
        const firstNavbar = document.querySelector('.navbar-first');
        const navbarToggler = document.querySelector('.navbar-toggler');

        const firstNavbarHeight = firstNavbar.offsetHeight;

        window.addEventListener('scroll', () => {
            if (window.innerWidth >= 992) {
                // 데스크톱: 스크롤 시 second navigation을 고정
                if (window.scrollY > firstNavbarHeight) {
                    secondNavbar.classList.add('fixed');
                } else {
                    secondNavbar.classList.remove('fixed');
                }
            } else {
                // 모바일: top navigation을 항상 고정
                firstNavbar.classList.add('fixed');
            }
        });

        // 토글 버튼이 활성화될 때도 top navigation이 고정되도록 설정
        navbarToggler.addEventListener('click', () => {
            firstNavbar.classList.toggle('bg-dark');
        });
    });


    </script>
</div>
</body>
</html>
